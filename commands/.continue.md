---
name: continue
description: Load and continue from a saved session
---

## Step 1: Detect Current Project

```bash
# Get project name from git remote
git remote get-url origin 2>/dev/null
```

Extract repo name from URL:
- `https://bitbucket.org/org/my-project.git` → `my-project`
- `git@github.com:user/my-project.git` → `my-project`
- Fallback: `basename $(pwd)`

## Step 2: Search for Session Files

Search in central location: `~/.claude/history/`

```bash
# List all projects with sessions
ls ~/.claude/history/

# List sessions for current project
ls ~/.claude/history/{project-name}/
```

Also check legacy project-local location if exists:
```bash
ls .claude/history/ 2>/dev/null
```

Collect all `.md` files from found history directories.

2. **If no sessions found:**
   - Respond: "No saved sessions found. Use /save to create one."
   - Stop here

3. **Parse and display all sessions:**
   - Extract date, time, and description from each filename (format: `YYYY-MM-DD_HHMMSS_[description].md`)
   - Read the "Description" field from each file's content for better context
   - Group sessions by their source directory if from multiple locations

4. **Always show selection with multiselect:**
   - Use AskUserQuestion with `multiSelect: true`
   - Display format:
```
     [Source: my-api]
     Oct 28, 2:30 PM - oauth work

     [Source: my-client]
     Oct 29, 4:15 PM - ui components
```
   - Allow user to select one or multiple sessions

5. **Load and internalize selected session(s):**
   - Read each selected session file completely
   - Internalize ALL sections as active context, especially:
     - **Constraints & Preferences** — treat these as ongoing requirements
     - **What Didn't Work** — avoid repeating these approaches
     - **Assumptions** — carry these forward unless user corrects them
     - **Open Questions** — be aware these are unresolved

6. **Provide restoration summary:**
```
   ✓ Loaded [N] session(s)

   **Resuming:** [Current Work summary]
   **Branch:** [branch name]

   **Key constraints I'll follow:**
   - [list from Constraints & Preferences]

   **Avoiding (didn't work last time):**
   - [list from What Didn't Work]

   **Still unresolved:**
   - [list from Open Questions]

   **Next up:**
   - [list from Next Steps]

   Ready to continue. What would you like to tackle first?
```

7. **If multiple sessions loaded:**
   - Merge context intelligently (later sessions take precedence for conflicts)
   - Note any contradictions between sessions for user to clarify